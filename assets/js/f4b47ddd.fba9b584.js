"use strict";(self.webpackChunkreadmes=self.webpackChunkreadmes||[]).push([[6118],{4374:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Redis","title":"Redis - In-Memory Data Store Guide","description":"Comprehensive guide to Redis including data structures, use cases, implementation examples, and best practices for caching and real-time applications.","source":"@site/docs/Redis.md","sourceDirName":".","slug":"/Redis","permalink":"/readmes/docs/Redis","draft":false,"unlisted":false,"editUrl":"https://github.com/Sandeep-Petwal/readmes/tree/main/packages/create-docusaurus/templates/shared/docs/Redis.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"Redis","title":"Redis - In-Memory Data Store Guide","description":"Comprehensive guide to Redis including data structures, use cases, implementation examples, and best practices for caching and real-time applications."},"sidebar":"tutorialSidebar","previous":{"title":"Microservices","permalink":"/readmes/docs/Microservice-architecture"}}');var i=s(4848),a=s(8453);const t={sidebar_label:"Redis",title:"Redis - In-Memory Data Store Guide",description:"Comprehensive guide to Redis including data structures, use cases, implementation examples, and best practices for caching and real-time applications."},o="Redis - In-Memory Data Store Guide",d={},c=[{value:"What is Redis?",id:"what-is-redis",level:2},{value:"Key Characteristics",id:"key-characteristics",level:3},{value:"How Does Redis Work?",id:"how-does-redis-work",level:2},{value:"Under the Hood",id:"under-the-hood",level:3},{value:"Core Data Structures in Redis",id:"core-data-structures-in-redis",level:2},{value:"1. Strings",id:"1-strings",level:3},{value:"2. Hashes",id:"2-hashes",level:3},{value:"3. Lists",id:"3-lists",level:3},{value:"4. Sets",id:"4-sets",level:3},{value:"5. Sorted Sets (ZSets)",id:"5-sorted-sets-zsets",level:3},{value:"6. Geospatial (Geo)",id:"6-geospatial-geo",level:3},{value:"7. HyperLogLogs",id:"7-hyperloglogs",level:3},{value:"8. Streams",id:"8-streams",level:3},{value:"How Redis Secures Our Applications",id:"how-redis-secures-our-applications",level:2},{value:"Primary Use Cases and Implementation",id:"primary-use-cases-and-implementation",level:2},{value:"1. Caching (Most Common Use Case)",id:"1-caching-most-common-use-case",level:3},{value:"2. Real-Time Analytics &amp; Leaderboards",id:"2-real-time-analytics--leaderboards",level:3},{value:"3. Rate Limiting",id:"3-rate-limiting",level:3},{value:"4. Message Queues / Pub/Sub",id:"4-message-queues--pubsub",level:3},{value:"5. Distributed Locks",id:"5-distributed-locks",level:3},{value:"Architecture Pattern",id:"architecture-pattern",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Memory Management",id:"1-memory-management",level:3},{value:"2. Connection Pooling",id:"2-connection-pooling",level:3},{value:"3. Error Handling",id:"3-error-handling",level:3},{value:"4. Monitoring",id:"4-monitoring",level:3},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"redis---in-memory-data-store-guide",children:"Redis - In-Memory Data Store Guide"})}),"\n",(0,i.jsx)(r.p,{children:"A comprehensive guide to Redis, an open-source, in-memory data structure store that can be used as a database, cache, and message broker."}),"\n",(0,i.jsx)(r.h2,{id:"what-is-redis",children:"What is Redis?"}),"\n",(0,i.jsxs)(r.p,{children:["Redis stands for ",(0,i.jsx)(r.strong,{children:"Remote Dictionary Server"}),". It's an open-source, in-memory data structure store that can be used as a database, cache, and message broker. Unlike traditional disk-based relational databases (like PostgreSQL, MySQL) or even some NoSQL databases (like MongoDB), Redis primarily stores data in RAM (Random Access Memory). This is its secret sauce for extreme performance."]}),"\n",(0,i.jsx)(r.h3,{id:"key-characteristics",children:"Key Characteristics"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"In-Memory Data Store"}),": Data is stored in RAM for lightning-fast access"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"NoSQL Database"}),": Non-relational, flexible data model"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Key-Value Store"}),": With advanced data structures beyond simple key-value pairs"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Single-Threaded"}),": Uses event loop for handling multiple connections"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"High Availability"}),": Supports replication and clustering"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"how-does-redis-work",children:"How Does Redis Work?"}),"\n",(0,i.jsx)(r.p,{children:"At a high level, Redis works by maintaining a collection of keys, each associated with a specific data type. When a client sends a command, Redis performs the requested operation directly on the in-memory data structure associated with the key."}),"\n",(0,i.jsx)(r.h3,{id:"under-the-hood",children:"Under the Hood"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Server Process"}),": The Redis server runs as a daemon that listens for incoming client connections (typically on port 6379)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Clients"}),": Applications (like your Node.js backend) connect to the Redis server using client libraries (e.g., ioredis, node-redis)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": Clients send commands (e.g., SET, GET, LPUSH, SADD) to the server"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Data Structures"}),": Redis stores data in specialized data structures optimized for performance"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Event Loop"}),": Redis uses an event loop (similar to Node.js's non-blocking I/O) to handle client connections and commands efficiently, despite being single-threaded"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Memory Management"}),": Redis has its own memory management system to efficiently allocate and deallocate memory for its data structures"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"core-data-structures-in-redis",children:"Core Data Structures in Redis"}),"\n",(0,i.jsx)(r.p,{children:"This is where Redis really shines, offering more than just simple key-value pairs:"}),"\n",(0,i.jsx)(r.h3,{id:"1-strings",children:"1. Strings"}),"\n",(0,i.jsx)(r.p,{children:"The most basic type. A key maps to a string value."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Values"}),": Can be text or binary data (up to 512 MB)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Caching HTML fragments, storing JSON strings, session IDs"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"SET key value"}),", ",(0,i.jsx)(r.code,{children:"GET key"}),", ",(0,i.jsx)(r.code,{children:"INCR key"}),", ",(0,i.jsx)(r.code,{children:"DECR key"}),", ",(0,i.jsx)(r.code,{children:"MSET"}),", ",(0,i.jsx)(r.code,{children:"MGET"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Node.js example with ioredis\r\nconst Redis = require('ioredis');\r\nconst redis = new Redis();\r\n\r\n// Basic string operations\r\nawait redis.set('user:1:name', 'John Doe');\r\nawait redis.set('user:1:email', 'john@example.com');\r\n\r\nconst name = await redis.get('user:1:name'); // 'John Doe'\r\n\r\n// Increment/decrement\r\nawait redis.set('visits', 0);\r\nawait redis.incr('visits'); // 1\r\nawait redis.incr('visits'); // 2\r\nawait redis.decr('visits'); // 1\n"})}),"\n",(0,i.jsx)(r.h3,{id:"2-hashes",children:"2. Hashes"}),"\n",(0,i.jsx)(r.p,{children:"Like a hash map or dictionary, where a key maps to a set of field-value pairs."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Efficient"}),": For storing objects or structured data"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Storing user profiles, product details"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"HSET key field value"}),", ",(0,i.jsx)(r.code,{children:"HGET key field"}),", ",(0,i.jsx)(r.code,{children:"HGETALL key"}),", ",(0,i.jsx)(r.code,{children:"HMSET"}),", ",(0,i.jsx)(r.code,{children:"HMGET"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Hash operations\r\nawait redis.hset('user:1', {\r\n  name: 'John Doe',\r\n  email: 'john@example.com',\r\n  age: '30',\r\n  city: 'New York'\r\n});\r\n\r\nconst user = await redis.hgetall('user:1');\r\n// { name: 'John Doe', email: 'john@example.com', age: '30', city: 'New York' }\r\n\r\nconst name = await redis.hget('user:1', 'name'); // 'John Doe'\n"})}),"\n",(0,i.jsx)(r.h3,{id:"3-lists",children:"3. Lists"}),"\n",(0,i.jsx)(r.p,{children:"An ordered collection of strings. Elements are added to the head or tail."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Can act as"}),": Queue or stack"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Implementing queues, storing recent items, user timelines"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"LPUSH key value"}),", ",(0,i.jsx)(r.code,{children:"RPUSH key value"}),", ",(0,i.jsx)(r.code,{children:"LPOP key"}),", ",(0,i.jsx)(r.code,{children:"RPOP key"}),", ",(0,i.jsx)(r.code,{children:"LRANGE key start end"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// List operations\r\nawait redis.lpush('recent_posts', 'post:123');\r\nawait redis.lpush('recent_posts', 'post:124');\r\nawait redis.rpush('recent_posts', 'post:125');\r\n\r\nconst posts = await redis.lrange('recent_posts', 0, -1);\r\n// ['post:124', 'post:123', 'post:125']\r\n\r\nconst latestPost = await redis.lpop('recent_posts'); // 'post:124'\n"})}),"\n",(0,i.jsx)(r.h3,{id:"4-sets",children:"4. Sets"}),"\n",(0,i.jsx)(r.p,{children:"An unordered collection of unique strings. No duplicates are allowed."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Efficient"}),": For checking membership"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Storing unique tags, tracking unique visitors, implementing friend lists"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"SADD key member"}),", ",(0,i.jsx)(r.code,{children:"SMEMBERS key"}),", ",(0,i.jsx)(r.code,{children:"SISMEMBER key member"}),", ",(0,i.jsx)(r.code,{children:"SINTER"}),", ",(0,i.jsx)(r.code,{children:"SUNION"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Set operations\r\nawait redis.sadd('user:1:friends', 'user:2', 'user:3', 'user:4');\r\nawait redis.sadd('user:2:friends', 'user:1', 'user:3', 'user:5');\r\n\r\nconst friends = await redis.smembers('user:1:friends');\r\n// ['user:2', 'user:3', 'user:4']\r\n\r\nconst isFriend = await redis.sismember('user:1:friends', 'user:2'); // true\r\n\r\n// Find mutual friends\r\nconst mutualFriends = await redis.sinter('user:1:friends', 'user:2:friends');\r\n// ['user:3']\n"})}),"\n",(0,i.jsx)(r.h3,{id:"5-sorted-sets-zsets",children:"5. Sorted Sets (ZSets)"}),"\n",(0,i.jsx)(r.p,{children:"Similar to Sets, but each member has a score. Members are ordered by their score."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Useful for"}),": Leaderboards, ranking, or time-series data"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Leaderboards, real-time analytics, priority queues"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"ZADD key score member"}),", ",(0,i.jsx)(r.code,{children:"ZRANGE key start end"}),", ",(0,i.jsx)(r.code,{children:"ZSCORE key member"}),", ",(0,i.jsx)(r.code,{children:"ZREM key member"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Sorted set operations\r\nawait redis.zadd('leaderboard', {\r\n  'player:1': 1000,\r\n  'player:2': 1500,\r\n  'player:3': 800,\r\n  'player:4': 1200\r\n});\r\n\r\nconst topPlayers = await redis.zrevrange('leaderboard', 0, 2, 'WITHSCORES');\r\n// ['player:2', '1500', 'player:4', '1200', 'player:1', '1000']\r\n\r\nconst playerScore = await redis.zscore('leaderboard', 'player:1'); // 1000\n"})}),"\n",(0,i.jsx)(r.h3,{id:"6-geospatial-geo",children:"6. Geospatial (Geo)"}),"\n",(0,i.jsx)(r.p,{children:"Stores geographical coordinates (longitude, latitude) and allows querying by radius or bounding box."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Location-based services, ride-sharing apps"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"GEOADD key longitude latitude member"}),", ",(0,i.jsx)(r.code,{children:"GEORADIUS key longitude latitude radius units"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Geospatial operations\r\nawait redis.geoadd('restaurants', {\r\n  longitude: -73.935242,\r\n  latitude: 40.730610,\r\n  member: 'restaurant:1'\r\n});\r\n\r\nconst nearbyRestaurants = await redis.georadius(\r\n  'restaurants',\r\n  -73.935242,\r\n  40.730610,\r\n  5,\r\n  'km',\r\n  'WITHCOORD'\r\n);\n"})}),"\n",(0,i.jsx)(r.h3,{id:"7-hyperloglogs",children:"7. HyperLogLogs"}),"\n",(0,i.jsx)(r.p,{children:"Probabilistic data structure for estimating the number of unique items in a set with very little memory."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Counting unique visitors, counting unique search queries"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"PFADD key element"}),", ",(0,i.jsx)(r.code,{children:"PFCOUNT key"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// HyperLogLog operations\r\nawait redis.pfadd('daily_visitors', 'user:1', 'user:2', 'user:3');\r\nawait redis.pfadd('daily_visitors', 'user:2', 'user:4', 'user:5');\r\n\r\nconst uniqueVisitors = await redis.pfcount('daily_visitors'); // ~5\n"})}),"\n",(0,i.jsx)(r.h3,{id:"8-streams",children:"8. Streams"}),"\n",(0,i.jsx)(r.p,{children:"Append-only data structure that models a log. Designed for high-throughput, low-latency data ingestion."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Cases"}),": Event sourcing, real-time logging, message queues that require persistence and consumer groups"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Commands"}),": ",(0,i.jsx)(r.code,{children:"XADD key * field value"}),", ",(0,i.jsx)(r.code,{children:"XREAD GROUP"}),", ",(0,i.jsx)(r.code,{children:"XTRIM"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Stream operations\r\nconst messageId = await redis.xadd('chat:messages', '*', {\r\n  user: 'user:1',\r\n  message: 'Hello, world!',\r\n  timestamp: Date.now()\r\n});\r\n\r\nconst messages = await redis.xread('COUNT', 10, 'STREAMS', 'chat:messages', '0');\n"})}),"\n",(0,i.jsx)(r.h2,{id:"how-redis-secures-our-applications",children:"How Redis Secures Our Applications"}),"\n",(0,i.jsx)(r.p,{children:'Redis doesn\'t directly "secure" applications in the same way reCAPTCHA does (i.e., preventing bots). Instead, it provides mechanisms and features that enhance the performance, scalability, and resilience of your application, which in turn contributes to a more robust and secure user experience by handling load efficiently and preventing certain types of attacks (like DDoS, if used for rate limiting).'}),"\n",(0,i.jsx)(r.h2,{id:"primary-use-cases-and-implementation",children:"Primary Use Cases and Implementation"}),"\n",(0,i.jsx)(r.h3,{id:"1-caching-most-common-use-case",children:"1. Caching (Most Common Use Case)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Simple caching with Redis\r\nclass CacheService {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n  }\r\n\r\n  async getCachedData(key) {\r\n    const cached = await this.redis.get(key);\r\n    if (cached) {\r\n      return JSON.parse(cached);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async setCachedData(key, data, ttl = 3600) {\r\n    await this.redis.setex(key, ttl, JSON.stringify(data));\r\n  }\r\n\r\n  async invalidateCache(pattern) {\r\n    const keys = await this.redis.keys(pattern);\r\n    if (keys.length > 0) {\r\n      await this.redis.del(...keys);\r\n    }\r\n  }\r\n}\r\n\r\n// Usage example\r\nconst cache = new CacheService();\r\n\r\nasync function getUserProfile(userId) {\r\n  const cacheKey = `user:${userId}:profile`;\r\n  \r\n  // Try to get from cache first\r\n  let userProfile = await cache.getCachedData(cacheKey);\r\n  \r\n  if (!userProfile) {\r\n    // Fetch from database\r\n    userProfile = await database.getUser(userId);\r\n    \r\n    // Cache for 1 hour\r\n    await cache.setCachedData(cacheKey, userProfile, 3600);\r\n  }\r\n  \r\n  return userProfile;\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"2-real-time-analytics--leaderboards",children:"2. Real-Time Analytics & Leaderboards"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Leaderboard implementation\r\nclass LeaderboardService {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n  }\r\n\r\n  async updateScore(userId, score) {\r\n    await this.redis.zadd('global_leaderboard', score, `user:${userId}`);\r\n  }\r\n\r\n  async getTopPlayers(limit = 10) {\r\n    return await this.redis.zrevrange('global_leaderboard', 0, limit - 1, 'WITHSCORES');\r\n  }\r\n\r\n  async getUserRank(userId) {\r\n    return await this.redis.zrevrank('global_leaderboard', `user:${userId}`);\r\n  }\r\n\r\n  async getUserScore(userId) {\r\n    return await this.redis.zscore('global_leaderboard', `user:${userId}`);\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"3-rate-limiting",children:"3. Rate Limiting"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Rate limiting with Redis\r\nclass RateLimiter {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n  }\r\n\r\n  async isAllowed(userId, maxRequests = 100, windowMs = 60000) {\r\n    const key = `rate_limit:${userId}`;\r\n    const now = Date.now();\r\n    const windowStart = now - windowMs;\r\n\r\n    // Remove old entries\r\n    await this.redis.zremrangebyscore(key, 0, windowStart);\r\n\r\n    // Count current requests\r\n    const currentRequests = await this.redis.zcard(key);\r\n\r\n    if (currentRequests >= maxRequests) {\r\n      return false;\r\n    }\r\n\r\n    // Add current request\r\n    await this.redis.zadd(key, now, `${now}-${Math.random()}`);\r\n    await this.redis.expire(key, Math.ceil(windowMs / 1000));\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n// Usage in Express middleware\r\nconst rateLimiter = new RateLimiter();\r\n\r\napp.use('/api/', async (req, res, next) => {\r\n  const userId = req.user?.id || req.ip;\r\n  \r\n  if (await rateLimiter.isAllowed(userId, 100, 60000)) {\r\n    next();\r\n  } else {\r\n    res.status(429).json({ error: 'Rate limit exceeded' });\r\n  }\r\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"4-message-queues--pubsub",children:"4. Message Queues / Pub/Sub"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Pub/Sub implementation\r\nclass MessageQueue {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n    this.subscriber = new Redis();\r\n  }\r\n\r\n  async publish(channel, message) {\r\n    await this.redis.publish(channel, JSON.stringify(message));\r\n  }\r\n\r\n  async subscribe(channel, callback) {\r\n    await this.subscriber.subscribe(channel);\r\n    \r\n    this.subscriber.on('message', (subChannel, message) => {\r\n      if (subChannel === channel) {\r\n        callback(JSON.parse(message));\r\n      }\r\n    });\r\n  }\r\n\r\n  async unsubscribe(channel) {\r\n    await this.subscriber.unsubscribe(channel);\r\n  }\r\n}\r\n\r\n// Usage example\r\nconst queue = new MessageQueue();\r\n\r\n// Publisher\r\nawait queue.publish('notifications', {\r\n  type: 'email',\r\n  to: 'user@example.com',\r\n  subject: 'Welcome!',\r\n  body: 'Welcome to our platform!'\r\n});\r\n\r\n// Subscriber\r\nawait queue.subscribe('notifications', (message) => {\r\n  console.log('Received notification:', message);\r\n  // Process the notification\r\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"5-distributed-locks",children:"5. Distributed Locks"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Distributed lock implementation\r\nclass DistributedLock {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n  }\r\n\r\n  async acquireLock(lockKey, ttl = 30000) {\r\n    const lockValue = `${Date.now()}-${Math.random()}`;\r\n    const result = await this.redis.set(lockKey, lockValue, 'PX', ttl, 'NX');\r\n    \r\n    if (result === 'OK') {\r\n      return lockValue;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async releaseLock(lockKey, lockValue) {\r\n    const script = `\r\n      if redis.call(\"get\", KEYS[1]) == ARGV[1] then\r\n        return redis.call(\"del\", KEYS[1])\r\n      else\r\n        return 0\r\n      end\r\n    `;\r\n    \r\n    return await this.redis.eval(script, 1, lockKey, lockValue);\r\n  }\r\n}\r\n\r\n// Usage example\r\nconst lock = new DistributedLock();\r\n\r\nasync function processOrder(orderId) {\r\n  const lockKey = `order:${orderId}:lock`;\r\n  const lockValue = await lock.acquireLock(lockKey, 30000);\r\n  \r\n  if (!lockValue) {\r\n    throw new Error('Could not acquire lock');\r\n  }\r\n  \r\n  try {\r\n    // Process the order\r\n    await processOrderLogic(orderId);\r\n  } finally {\r\n    // Always release the lock\r\n    await lock.releaseLock(lockKey, lockValue);\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"architecture-pattern",children:"Architecture Pattern"}),"\n",(0,i.jsxs)(r.p,{children:["The common pattern is: ",(0,i.jsx)(r.strong,{children:"React (Frontend)"})," --(API Calls)--\x3e ",(0,i.jsx)(r.strong,{children:"Node.js (Backend)"})," --(Redis Client)--\x3e ",(0,i.jsx)(r.strong,{children:"Redis Server"})]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Complete example: User session management\r\nclass SessionManager {\r\n  constructor() {\r\n    this.redis = new Redis();\r\n  }\r\n\r\n  async createSession(userId, sessionData) {\r\n    const sessionId = crypto.randomUUID();\r\n    const sessionKey = `session:${sessionId}`;\r\n    \r\n    await this.redis.hset(sessionKey, {\r\n      userId: userId,\r\n      createdAt: Date.now(),\r\n      lastActivity: Date.now(),\r\n      ...sessionData\r\n    });\r\n    \r\n    // Set expiration (24 hours)\r\n    await this.redis.expire(sessionKey, 86400);\r\n    \r\n    return sessionId;\r\n  }\r\n\r\n  async getSession(sessionId) {\r\n    const sessionKey = `session:${sessionId}`;\r\n    const session = await this.redis.hgetall(sessionKey);\r\n    \r\n    if (Object.keys(session).length === 0) {\r\n      return null;\r\n    }\r\n    \r\n    // Update last activity\r\n    await this.redis.hset(sessionKey, 'lastActivity', Date.now());\r\n    \r\n    return session;\r\n  }\r\n\r\n  async destroySession(sessionId) {\r\n    const sessionKey = `session:${sessionId}`;\r\n    await this.redis.del(sessionKey);\r\n  }\r\n\r\n  async getUserSessions(userId) {\r\n    const pattern = 'session:*';\r\n    const keys = await this.redis.keys(pattern);\r\n    const sessions = [];\r\n    \r\n    for (const key of keys) {\r\n      const session = await this.redis.hgetall(key);\r\n      if (session.userId === userId) {\r\n        sessions.push({\r\n          sessionId: key.replace('session:', ''),\r\n          ...session\r\n        });\r\n      }\r\n    }\r\n    \r\n    return sessions;\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(r.h3,{id:"1-memory-management",children:"1. Memory Management"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Set memory limits and eviction policies\r\nconst redis = new Redis({\r\n  maxMemory: '2gb',\r\n  maxMemoryPolicy: 'allkeys-lru'\r\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"2-connection-pooling",children:"2. Connection Pooling"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Use connection pooling for high-traffic applications\r\nconst Redis = require('ioredis');\r\n\r\nconst redis = new Redis({\r\n  host: 'localhost',\r\n  port: 6379,\r\n  maxRetriesPerRequest: 3,\r\n  retryDelayOnFailover: 100,\r\n  enableReadyCheck: false,\r\n  maxLoadingTimeout: 2000,\r\n  lazyConnect: true\r\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"3-error-handling",children:"3. Error Handling"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Proper error handling\r\nredis.on('error', (error) => {\r\n  console.error('Redis error:', error);\r\n  // Implement fallback logic\r\n});\r\n\r\nredis.on('connect', () => {\r\n  console.log('Connected to Redis');\r\n});\r\n\r\nredis.on('ready', () => {\r\n  console.log('Redis is ready');\r\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"4-monitoring",children:"4. Monitoring"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// Health check\r\nasync function checkRedisHealth() {\r\n  try {\r\n    await redis.ping();\r\n    return { status: 'healthy', timestamp: new Date() };\r\n  } catch (error) {\r\n    return { status: 'unhealthy', error: error.message, timestamp: new Date() };\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(r.p,{children:"Redis is a powerful tool that can significantly improve your application's performance and scalability. By understanding its data structures and use cases, you can build more efficient and robust applications. Remember to always consider your specific use case and choose the right data structure for the job."})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>t,x:()=>o});var n=s(6540);const i={},a=n.createContext(i);function t(e){const r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);